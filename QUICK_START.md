# üöÄ Quick Start Guide - Cloud Terraria

## ‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á ngrok!)

### 1. ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÅ‡∏≠‡∏õ‡∏û‡∏•‡∏¥‡πÄ‡∏Ñ‡∏ä‡∏±‡∏ô

```powershell
# ‡∏ó‡∏µ‡πà‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå d:\terraria
npm run dev
```

‡πÄ‡∏ß‡πá‡∏ö‡∏à‡∏∞‡πÄ‡∏õ‡∏¥‡∏î‡∏ó‡∏µ‡πà **http://localhost:3000**

---

### 2. ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ö‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á

1. ‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå: http://localhost:3000
2. Sign In (‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ Mock Credentials)
3. ‡∏Ñ‡∏•‡∏¥‡∏Å **"Create New Server"**
4. ‡∏£‡∏≠ Lambda ‡∏™‡∏£‡πâ‡∏≤‡∏á EC2 Terraria server
5. Copy IP:Port ‡∏ó‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á (‡πÄ‡∏ä‡πà‡∏ô `3.89.217.47:7777`)
6. ‡πÄ‡∏õ‡∏¥‡∏î Terraria game ‚Üí Multiplayer ‚Üí Join via IP ‚Üí Paste IP

---

### 3. ‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£

```
[localhost:3000] ‚Üí [tRPC API] ‚Üí [AWS Lambda] ‚Üí [‡∏™‡∏£‡πâ‡∏≤‡∏á EC2 Terraria Server]
                                                      ‚Üì
                                              [Return Public IP:7777]
```

**‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ ngrok** ‡πÄ‡∏û‡∏£‡∏≤‡∏∞:
- ‚úÖ localhost:3000 ‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏Ñ‡πà UI ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° (‡πÉ‡∏ä‡πâ‡∏ö‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á)
- ‚úÖ Lambda ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ö‡∏ô AWS (‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏à‡∏≤‡∏Å localhost ‡∏ú‡πà‡∏≤‡∏ô AWS SDK)
- ‚úÖ Terraria server ‡∏£‡∏±‡∏ô‡∏ö‡∏ô EC2 (‡∏°‡∏µ Public IP ‡πÉ‡∏´‡πâ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å‡∏†‡∏≤‡∏¢‡∏ô‡∏≠‡∏Å)

---

## üéÆ ‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô‡∏Å‡∏±‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô

### ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì (localhost)
1. ‡πÄ‡∏õ‡∏¥‡∏î http://localhost:3000
2. ‡∏™‡∏£‡πâ‡∏≤‡∏á Terraria server
3. ‡πÑ‡∏î‡πâ Public IP (‡πÄ‡∏ä‡πà‡∏ô 3.89.217.47:7777)

### ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô
1. ‡πÄ‡∏õ‡∏¥‡∏î Terraria game
2. Multiplayer ‚Üí Join via IP
3. ‡πÉ‡∏™‡πà `3.89.217.47:7777`
4. ‡πÄ‡∏•‡πà‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢!

**‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á ngrok** ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏ó‡∏µ‡πà **Terraria Server IP** ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ï‡πà‡∏≠‡∏°‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏ß‡πá‡∏ö‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì!

---

## üìã Checklist

### ‚úÖ ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥ (‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß)
- [x] AWS CLI ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡πâ‡∏ß
- [x] CloudFormation stacks deploy ‡πÅ‡∏•‡πâ‡∏ß
  - [x] cloud-terraria-network
  - [x] cloud-terraria-database  
  - [x] cloud-terraria-lambda
- [x] RDS PostgreSQL ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß
- [x] `.env.local` ‡∏°‡∏µ DATABASE_URL ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

### ‚úÖ ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
1. ‡∏£‡∏±‡∏ô `npm run dev`
2. ‡πÄ‡∏õ‡∏¥‡∏î http://localhost:3000
3. ‡∏™‡∏£‡πâ‡∏≤‡∏á server
4. ‡πÄ‡∏•‡πà‡∏ô‡πÑ‡∏î‡πâ!

---

## üîß Troubleshooting

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: "Lambda function not found"
```bash
# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Lambda
aws lambda get-function --function-name cloud-terraria-server-manager --region us-east-1
```

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: "Database connection failed"
```bash
# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö .env.local
cat .env.local | grep DATABASE_URL

# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö connection
npx prisma db push --skip-generate
```

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: Port 3000 ‡πÉ‡∏ä‡πâ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ
```powershell
# ‡∏´‡∏≤ process ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ port 3000
Get-NetTCPConnection -LocalPort 3000

# ‡∏õ‡∏¥‡∏î process
Stop-Process -Id <PID> -Force
```

---

## üí° Tips

### ‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏•‡∏≤‡∏¢ servers
- ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏î‡πâ‡πÄ‡∏ó‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
- ‡πÅ‡∏ï‡πà‡∏•‡∏∞ server ‡∏°‡∏µ IP ‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á
- ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢: ~$0.0116/‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á/server

### ‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡πÄ‡∏á‡∏¥‡∏ô
```bash
# ‡∏õ‡∏¥‡∏î server ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏¥‡∏Å‡πÄ‡∏•‡πà‡∏ô (‡∏ú‡πà‡∏≤‡∏ô UI ‡∏´‡∏£‡∏∑‡∏≠ AWS Console)
aws ec2 stop-instances --instance-ids <instance-id> --region us-east-1

# ‡∏•‡∏ö server (‡∏ú‡πà‡∏≤‡∏ô UI)
‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏° "Delete" ‡πÉ‡∏ô web UI
```

---

## üì¶ Services ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ

| Service | Purpose | Access |
|---------|---------|--------|
| localhost:3000 | Web UI (‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°) | ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô |
| Lambda | ‡∏™‡∏£‡πâ‡∏≤‡∏á/‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ EC2 | ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏à‡∏≤‡∏Å localhost ‡∏ú‡πà‡∏≤‡∏ô AWS SDK |
| RDS PostgreSQL | ‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• users/servers | ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì + Lambda |
| EC2 Terraria | Game server | **‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏î‡πâ** (Public IP) |

---

## ‚ú® ‡∏™‡∏£‡∏∏‡∏õ

**‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á ngrok!**
- localhost:3000 = ‡πÉ‡∏ä‡πâ‡∏ö‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏≠‡∏á (‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° servers)
- Lambda = ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ö‡∏ô AWS (‡∏™‡∏£‡πâ‡∏≤‡∏á EC2)
- EC2 Terraria = Public IP (‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏ï‡πà‡∏≠‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢)

**‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô**: `npm run dev` ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏õ‡∏¥‡∏î http://localhost:3000

---

*Last Updated: October 31, 2025*
