# Production .env Template for EC2 Deployment

# Copy this file to /var/www/terraria/.env on your EC2 instance
# Fill in all values from AWS Management Console

# ============================================
# DATABASE (RDS PostgreSQL)
# ============================================
# Get from: RDS → Databases → terraria-db → Connectivity & security
DATABASE_URL="postgresql://postgres:YourPassword123@terraria-db.xxxxx.us-east-1.rds.amazonaws.com:5432/terraria"

# ============================================
# NEXTAUTH CONFIGURATION
# ============================================
# Your EC2 Public IP or Domain Name
# Get from: EC2 → Instances → terraria-webapp → Public IPv4 address
NEXTAUTH_URL="http://54.123.45.67"

# Generate with: openssl rand -base64 32
AUTH_SECRET="your-random-secret-here-generate-with-openssl"

# ============================================
# AWS COGNITO (Optional - for real auth)
# ============================================
# Get from: Cognito → User pools → terraria-users → App integration
AUTH_COGNITO_ID="xxxxxxxxxxxxxxxxxxxxxxxxxx"
AUTH_COGNITO_SECRET="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
# Format: https://cognito-idp.{region}.amazonaws.com/{UserPoolId}
AUTH_COGNITO_ISSUER="https://cognito-idp.us-east-1.amazonaws.com/us-east-1_xxxxxxxxx"

# ============================================
# AWS CREDENTIALS (AWS Academy - expires every 4 hours)
# ============================================
# Get from: AWS Academy → AWS Details → Show AWS CLI
AWS_REGION="us-east-1"
AWS_ACCESS_KEY_ID="ASIA..."
AWS_SECRET_ACCESS_KEY="..."
AWS_SESSION_TOKEN="FwoGZXIvYXdzE..."

# ============================================
# AWS LAMBDA
# ============================================
# Get from: Lambda → Functions
AWS_LAMBDA_FUNCTION_NAME="TerrariaServerManager"

# ============================================
# ENVIRONMENT
# ============================================
NODE_ENV="production"

# ============================================
# OPTIONAL - Discord OAuth (if you want it)
# ============================================
# AUTH_DISCORD_ID="your-discord-client-id"
# AUTH_DISCORD_SECRET="your-discord-client-secret"
